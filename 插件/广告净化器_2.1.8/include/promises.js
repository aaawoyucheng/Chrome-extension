!function(e){"use strict";function r(){return new Deferred}function n(e){return Deferred.when.apply(Deferred,e)}e.vPromise=function(){var e,n=r();e="function"==typeof n.promise?n.promise():n.promise,this.promise=e,this.resolve=function(){n.resolve()},this.reject=function(){n.reject()},this.then=function(r,n){e.then(r,n)}},e.vPromise.all=function(e){for(var r=[],t=0;t<e.length;t++)r.push(e[t].promise);return n(r)}}(vAPI);