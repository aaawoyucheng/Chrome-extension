!function(t,e){t.userSettings=function(){var t=function(){var t=e.platformUtils;this.settings={DISABLE_DETECT_FILTERS:"detect-filters-disabled",DISABLE_SHOW_PAGE_STATS:"disable-show-page-statistic",DISABLE_SHOW_YICLEAR_PROMO_INFO:"show-info-about-yiclear-disabled",DISABLE_FILTERING:"yiclear-disabled",DISABLE_COLLECT_HITS:"hits-count-disabled",DISABLE_SHOW_CONTEXT_MENU:"context-menu-disabled",USE_OPTIMIZED_FILTERS:"use-optimized-filters",DEFAULT_WHITE_LIST_MODE:"default-whitelist-mode",DISABLE_HIDE_ELEMENT:"hide-element",DISABLE_AUTOUPDATE:"auto-update",DISABLE_PROXY:"proxy-disabled",DISABLE_SHOW_ICON:"show-tab-icon",DISABLE_SHOW_YOUKU_DANMU:"show-youku-danmu",DISABLE_DEVELOPER:"disable-developer",DISABLE_UPDATE_FIRSTRUN:"disable-update-filter-firstrun"},this.defaultProperties=Object.create(null);for(var s in this.settings)this.defaultProperties[this.settings[s]]=!1;this.defaultProperties[this.settings.DISABLE_SHOW_YICLEAR_PROMO_INFO]=!t.isWindowsOs()&&!t.isMacOs(),this.defaultProperties[this.settings.DISABLE_COLLECT_HITS]=!0,this.defaultProperties[this.settings.DEFAULT_WHITE_LIST_MODE]=!0,this.defaultProperties[this.settings.USE_OPTIMIZED_FILTERS]=t.isContentBlockerEnabled(),this.defaultProperties[this.settings.DISABLE_HIDE_ELEMENT]=!1,this.defaultProperties[this.settings.DISABLE_AUTOUPDATE]=!1,this.defaultProperties[this.settings.DISABLE_SHOW_ICON]=!1,this.defaultProperties[this.settings.DISABLE_DEVELOPER]=!1,this.defaultProperties[this.settings.DISABLE_SHOW_YOUKU_DANMU]=!0,this.defaultProperties[this.settings.DISABLE_PROXY]=!0,this.defaultProperties[this.settings.DISABLE_UPDATE_FIRSTRUN]=!1,this.properties=Object.create(null)};return t.prototype.getConfigs=function(){var t=e.base64.utf16to8,s=e.LocalStorage,i=JSON.stringify(s.storage);return e.base64.base64encode(t(i))},t.prototype.setConfigs=function(t){var s=e.base64.utf8to16,i=e.LocalStorage,r=JSON.parse(s(e.base64.base64decode(t)));for(var o in r)if(r.hasOwnProperty(o)){var n=r[o];i.setItem(o,n)}e.restart()},t.prototype.getProperty=function(t){var s=e.LocalStorage,i=e.Log;if(t in this.properties)return this.properties[t];var r=null;if(t in s.storage)try{r=JSON.parse(s.getItem(t))}catch(e){i.error("Error get property {0}, cause: {1}",t,e)}else t in this.defaultProperties&&(r=this.defaultProperties[t]);return this.properties[t]=r,r},t.prototype.setProperty=function(t,s){var i=e.LocalStorage,r=e.EventNotifier,o=e.EventNotifierTypes;i.setItem(t,s),this.properties[t]=s,r.notifyListeners(o.CHANGE_USER_SETTINGS,t,s)},t.prototype.isFilteringDisabled=function(){return this.getProperty(this.settings.DISABLE_FILTERING)},t.prototype.collectHitsCount=function(){return!this.getProperty(this.settings.DISABLE_COLLECT_HITS)},t.prototype.isDefaultWhiteListMode=function(){return this.getProperty(this.settings.DEFAULT_WHITE_LIST_MODE)},t.prototype.showPageStatistic=function(){return!this.getProperty(this.settings.DISABLE_SHOW_PAGE_STATS)},t.prototype.isUseOptimizedFiltersEnabled=function(){return this.getProperty(this.settings.USE_OPTIMIZED_FILTERS)},t.prototype.showContextMenu=function(){return!this.getProperty(this.settings.DISABLE_SHOW_CONTEXT_MENU)},t.prototype.disableElement=function(){return!this.getProperty(this.settings.DISABLE_HIDE_ELEMENT)},t.prototype.autoUpdate=function(){return!this.getProperty(this.settings.DISABLE_AUTOUPDATE)},t.prototype.showtabIcon=function(){return!this.getProperty(this.settings.DISABLE_SHOW_ICON)},t.prototype.Developer=function(){return!this.getProperty(this.settings.DISABLE_DEVELOPER)},t.prototype.YoukuDanmu=function(){return!this.getProperty(this.settings.DISABLE_SHOW_YOUKU_DANMU)},t.prototype.Proxy=function(){return!this.getProperty(this.settings.DISABLE_PROXY)},t.prototype.UpdateFirstRun=function(){return!this.getProperty(this.settings.DISABLE_UPDATE_FIRSTRUN)},t.prototype.getAllSettings=function(){var t={names:Object.create(null),values:Object.create(null)};for(var e in this.settings)if(this.settings.hasOwnProperty(e)){var s=this.settings[e];t.names[e]=s,t.values[s]=this.getProperty(s)}return t},new t}()}(yiclearAPI,vAPI);