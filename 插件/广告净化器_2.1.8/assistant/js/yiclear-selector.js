var YiclearSelectorLib=function(e,t){var n,o="yiclear-placeholder",i=null,r=null,s=null,a="sg_suggested",d="sg_selected",c="sg_rejected",l="sg_ignore",u=[],h=[],f="exact",v=!0,m=null,g="iPad"===navigator.platform||"iPhone"===navigator.platform||"Android"===navigator.platform,p=0,C=function(e){t("."+e).removeClass(e)},y=function(e){e&&t(e).each(function(){t(this).hasClass(d)||t(this).hasClass(l)||t(this).hasClass(c)||t(this).addClass(a)})},b=function(e){var n=t(e);n.hasClass(d)?(n.removeClass(d),u.splice(t.inArray(e,u),1)):n.hasClass(c)?(n.removeClass(c),h.splice(t.inArray(e,h),1)):n.hasClass(a)?(n.addClass(c),h.push(e)):("exact"==f&&u.length>0&&(C(d),u=[]),u.push(e));var o=s.predictCss(u,h.concat(r));return"similar"==f&&(C(a),y(o)),o},E=function(e){if(t(e).hasClass(a)||t(e).hasClass(d))return e;for(;e.parentNode&&(e=e.parentNode);)if(r.indexOf(e)==-1&&(t(e).hasClass(a)||t(e).hasClass(d)))return e;return null},L=function(e){return e+"px"},N=function(e){return e.parentNode?e.parentNode.tagName.toLowerCase()+" "+e.tagName.toLowerCase():e.tagName.toLowerCase()},w=function(){u=[],h=[],C(d),C(c),n.remove(),C(a)},_=function(e){var t=document.body.getBoundingClientRect(),n=e.getBoundingClientRect(),o=n.top-t.top,i=n.left-t.left;return{top:o,left:i,outerWidth:e.offsetWidth,outerHeight:e.offsetHeight}},k=function(e){var n=5,o=2,i="sg_border",r=null,s=null,a=null,d=null,c=function(){r&&d&&s&&a&&(r.show(),d.show(),s.show(),a.show())},l=function(){document.body.appendChild(r.get(0)),document.body.appendChild(d.get(0)),document.body.appendChild(s.get(0)),document.body.appendChild(a.get(0))},u=function(){if(r&&r.get(0)){var e=r.get(0).parentNode;e&&(e.removeChild(r.get(0)),e.removeChild(d.get(0)),e.removeChild(s.get(0)),e.removeChild(a.get(0)))}r=d=a=s=null};return e.init=function(){if(!r){var e=L(n);r=t("<div/>").addClass(i).css("height",e).hide().on("click",W),d=t("<div/>").addClass(i).addClass("sg_bottom_border").css("height",L(n+6)).hide().on("click",W),s=t("<div/>").addClass(i).css("width",e).hide().on("click",W),a=t("<div/>").addClass(i).css("width",e).hide().on("click",W),l()}},e.finalize=function(){u()},e.add=function(t){if(e.remove(),t){var i=_(t),l=i.top,u=i.left,h=i.outerWidth,f=i.outerHeight;null!=r&&(r.css("width",L(h+2*o+2*n)).css("top",L(l-n-o)).css("left",L(u-o-n)),d.css("width",L(h+2*o+n)).css("top",L(l+f+o)).css("left",L(u-o-n)),s.css("height",L(f+2*o)).css("top",L(l-o)).css("left",L(u-o-n)),a.css("height",L(f+2*o)).css("top",L(l-o)).css("left",L(u+h+o)),d.get(0).textContent=N(t),a.get(0).target_elem=s.get(0).target_elem=r.get(0).target_elem=d.get(0).target_elem=t,c())}},e.remove=function(){r&&d&&s&&a&&(r.hide(),d.hide(),s.hide(),a.hide())},e.BORDER_CLASS=i,e}(k||{}),P=document.createElement("a"),S=function(e){return e?(P.href=e,P.hostname):""},D=function(e){var t=document.createElement("div"),n=window.getComputedStyle(e);t.style.height=n.height,t.style.width=n.width,t.style.position=n.position,t.style.top=n.top,t.style.bottom=n.bottom,t.style.left=n.left,t.style.right=n.right,t.className+=o+" "+l;var i=document.createElement("div");i.className+=o+"-icon "+l;var r=document.createElement("div");return r.textContent=S(e.src),r.className+=o+"-domain "+l,i.appendChild(r),t.appendChild(i),t},x=function(){if(i){for(var e=i,n=0;n<e.length;n++){var r=e[n],s=o+n,a=t("#"+s).get(0);if(a){var d=a.parentNode;d&&d.replaceChild(r,a)}}i=null}},A=function(e){n.remove(),x(),m(e)},R=function(){i=t("iframe:not(."+l+"),embed,object").filter(function(e){var t="none"!=e.style.display,n=0!=e.offsetWidth&&0!=e.offsetHeight;return t&&n});for(var e=i,n=0;n<e.length;n++){var r=e[n];!function(e){var i=D(e),r=o+n;i.setAttribute("id",r);var s=e.parentNode;s&&(s.replaceChild(i,e),g?(t(i).on("gestureend",Y),t(i).on("touchmove",q),t(i).on("touchend",function(t){return t.preventDefault(),!!O()||void A(e)})):t("#"+r).on("click",function(t){t.preventDefault(),A(e)}))}(r)}},H=function(e){if(e.stopPropagation(),v)return!0;if(this==document.body||this==document.body.parentNode)return!1;var t=E(this);return null!=t&&t!=this?n.add(t):n.add(this),!1},B=function(){return!!v||this!=document.body&&this!=document.body.parentNode&&(n.remove(),!1)},W=function(e){if(t(e.target).hasClass(l))return!1;if(e.preventDefault(),e.stopImmediatePropagation(),v)return!0;var o=e.target;return t(o).hasClass(n.BORDER_CLASS)&&(o=o.target_elem||o),o!=document.body&&o!=document.body.parentNode?(b(o),n.remove(),m(o),!1):void 0},j=function(e){e.preventDefault(),e.stopImmediatePropagation(),H.call(this,e),W.call(this,e)},O=function(){return p>0&&(p--,!0)},z=function(e){return e.stopPropagation(),!!O()||(j.call(this,e),!1)},I=function(e){return e.stopPropagation(),!1},Y=function(){return p=2,!0},q=function(){return p=1,!0},F=function(){R();var e=t("body *:not(."+l+")");g?e.forEach(function(e){e.addEventListener("gestureend",Y),e.addEventListener("touchmove",q),e.addEventListener("touchend",z,!0),e.addEventListener("touchstart",I)}):e.forEach(function(e){e.addEventListener("mouseover",H),e.addEventListener("mouseout",B),e.addEventListener("click",W,!0)})},G=function(){x();var e=t("body *");g?e.forEach(function(e){e.removeEventListener("gestureend",Y),e.removeEventListener("touchmove",q),e.removeEventListener("touchend",z,!0),e.removeEventListener("touchstart",I)}):e.forEach(function(e){e.removeEventListener("mouseover",H),e.removeEventListener("mouseout",B),e.removeEventListener("click",W,!0)})};return n=k,e.init=function(e,o){m=e,o&&"object"==typeof o&&(n=o),r=["html","body","head","base"].map(function(e){return t(e).get(0)}),s=new DomPredictionHelper(t,String),n.init(),F(),v=!1},e.reset=function(){w()},e.close=function(){v=!0,n.finalize(),G()},e.selectElement=function(e){G(),n.add(e),v=!0},e.ignoreClassName=function(){return l},e}(YiclearSelectorLib||{},balalaika);